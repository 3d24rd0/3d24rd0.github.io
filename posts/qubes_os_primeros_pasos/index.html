<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="QUBES OS Primeros pasos" /><meta property="og:locale" content="en" /><meta name="description" content="QUBES OS se centra en la seguridad del sistema e implementa seguridad por aproximación de Aislamiento." /><meta property="og:description" content="QUBES OS se centra en la seguridad del sistema e implementa seguridad por aproximación de Aislamiento." /><link rel="canonical" href="https://3d24rd0.github.io/posts/qubes_os_primeros_pasos/" /><meta property="og:url" content="https://3d24rd0.github.io/posts/qubes_os_primeros_pasos/" /><meta property="og:site_name" content="3d24rd0" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2016-06-07T01:55:21+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="QUBES OS Primeros pasos" /><meta name="twitter:site" content="@3d24rd0" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2016-06-07T01:55:21+02:00","datePublished":"2016-06-07T01:55:21+02:00","description":"QUBES OS se centra en la seguridad del sistema e implementa seguridad por aproximación de Aislamiento.","headline":"QUBES OS Primeros pasos","mainEntityOfPage":{"@type":"WebPage","@id":"https://3d24rd0.github.io/posts/qubes_os_primeros_pasos/"},"url":"https://3d24rd0.github.io/posts/qubes_os_primeros_pasos/"}</script><title>QUBES OS Primeros pasos | 3d24rd0</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="3d24rd0"><meta name="application-name" content="3d24rd0"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/Logo_Web_Retocado.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">3d24rd0</a></div><div class="site-subtitle font-italic">Las notas</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/3d24rd0" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/3d24rd0" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['3d24rd0','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>QUBES OS Primeros pasos</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img data-src="/assets/yami/logo13.jpg" class="preview-img bg" alt="Preview Image" data-proofer-ignore><h1 data-toc-skip>QUBES OS Primeros pasos</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/3d24rd0">Eduardo</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2016-06-07 01:55:21 +0200" data-toggle="tooltip" data-placement="bottom" title="Tue, Jun 7, 2016, 1:55 AM +0200" >Jun 7, 2016</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1090 words"> <em>6 min</em> read</span></div></div></div><div class="post-content"><p>QUBES OS se centra en la seguridad del sistema e implementa seguridad por aproximación de Aislamiento.</p><p><img data-src="/assets/yami/qubes-arch-diagram.jpg" alt="Qubes OS arch" class="shadow" data-proofer-ignore></p><p>La versión con la que comencé a probarla fue la “3RC2”, para mi sorpresa, anaconda el Instalador de la distribución, se me quedaba colgado nada mas iniciarse. El problema, aparentemente se debía a la gráfica “ATI”.</p><p>Al basarse este sistema en múltiples máquinas virtuales, las primeras preguntas con los que me encontré fueron:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>* ¿Cómo usar el portapapeles?
* ¿Cómo copiar ficheros?
</pre></table></code></div></div><h2 id="uso-del-portapapeles">Uso del portapapeles<a href="#uso-del-portapapeles" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Para comprender el uso de el portapapeles de Qubes, tenemos que pensar que <strong>existen 2</strong>, uno propio de cada maquina virtual, el cual podremos usar con normalidad como siempre; Y un segundo “genérico” entre todas las maquinas. Para copiar o pegar algo entre maquinas tendremos que, primero copiar lo que queramos de la maquina en cuestión (ctrl-c), y segundo, (ctrl-alt-c) copiándose así el portapapeles de la maquina virtual al portapapeles genérico, como podremos imaginarnos para pegar (ctrl-alt-v) y (ctrl-v) en la maquina que queramos.</p><h2 id="copiar-ficheros">Copiar ficheros<a href="#copiar-ficheros" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Qubes nos permite copiar ficheros entre los distintos dominios mediante el uso del comando :</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-copy-to-vm [–without-progress] dest_vmname file [file]
</pre></table></code></div></div><p>Como se puede ver en el comando, se especifica el dominio de destino y qué fichero copiar.</p><p>¿Pero donde lo copia?</p><p>En la “home” del dominio tendremos una carpeta “QubesIncoming” y dentro de ella el nombre de la maquina origen, y en su interior se encuentran los ficheros que se mandaron a copiar.</p><h2 id="maquinas-desechables">Maquinas desechables<a href="#maquinas-desechables" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>QUBES OS nos da la posibilidad de usar maquinas para un solo uso, con esto me refiero a que podemos realizar cualquier acción, y cuando se termine, se apagará, y se borrará la maquina con todos los datos usados, donde hemos podido usar datos sensibles.</p><p>Esto es útil si queremos realizar alguna acción en la que tengamos dudas de su fiabilidad, como por ejemplo, abrir una web de origen sospechoso.</p><p>Desde cualquier Dominio, si tenemos las “Tools” de QUBES OS, podremos abrir cualquier fichero de forma gráfica:</p><p><img data-src="/assets/yami/disponsable.png" alt="disponsable" class="shadow" data-proofer-ignore></p><p>Y desde “commandline”:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-open-in-dvm file
</pre></table></code></div></div><p>También tenemos un acceso directo creado en el menú del sistema para abrir fácilmente un navegador.</p><p>La plantilla utilizada por defecto sería “fedora-23-dvm”. Si queremos cambiar de plantilla, podremos utilizar el siguiente comando:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-create-default-dvm &lt;custom-template-name&gt;
</pre></table></code></div></div><h2 id="actualizar-qubes-os">Actualizar QUBES OS<a href="#actualizar-qubes-os" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Desde la herramienta “Qubes VM Manager” tendremos la opción de actualizar de una forma sencilla, cuando las actualizaciones sean detectadas, sin embargo, si queremos forzar la actualización de algún “template” podremos encenderla y actualizarla (en caso de usar windows tendrá que ser así).</p><p>Para actualizar el dom0 podremos mediante el comando:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>qubes-dom0-update

qubes-dom0-update --enablerepo=qubes*testing
</pre></table></code></div></div><h2 id="habilitar-pantalla-completa">Habilitar pantalla completa<a href="#habilitar-pantalla-completa" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Por defecto Qubes OS no permite el uso de pantalla completa, porque es considerado un fallo de seguridad, ya que, un atacante podría aprovechar esa funcionalidad para simular nuestro sistema, cambiarnos nuestro entorno y terminar escribiendo alguna “password” donde realmente no deberíamos. Si aún así, queremos, por ejemplo, ver vídeos a pantalla completa, tendremos que modificar el fichero /etc/qubes/guid.conf. Para especificar una maquina en concreto, la sintaxis sería la siguiente:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>VM: {
  Dominio: {
    allow_fullscreen = true;
  };
};
</pre></table></code></div></div><p>También tendremos la posibilidad de activarlo de forma global:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>global: {
  allow_fullscreen = true; 
};
</pre></table></code></div></div><p>Y si fuese el caso del ejemplo (el de reproducir un vídeo), puede que también nos interese activar la opción “audio_low_latency**” **a false pasando a un retardo máximo a 40ms, comparado a 200-500ms, que hay por defecto. Hay que tener en cuenta que esto aumentara el uso de CPU.</p><h2 id="instalación-de-windows-7-como-plantilla-en-qubes-os">Instalación de windows 7 como plantilla en QUBES OS<a href="#instalación-de-windows-7-como-plantilla-en-qubes-os" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Qubes OS permite a las máquinas HVM compartir un sistema de archivos raíz común de un Template, al igual que se hace para Linux AppVMs. Éste modo no se limita a Windows AppVMs, y se puede utilizar para cualquier HVM (por ejemplo, FreeBSD).</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-create --hvm-template -l black windows-7
</pre></table></code></div></div><p>[<img data-src="/assets/yami/create_template.png" alt="create_template" class="shadow" data-proofer-ignore></p><p>Por defecto se crean dos discos para maquinas HVM:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>1. La raíz del sistema (20GB)
2. Uno pirvado para la home (2GB)
</pre></table></code></div></div><p>Ahora iniciaremos la maquina virtual con la iso/cd con el que realizaremos la instalación:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>qvm-start windows-7 --cdrom=/usr/local/iso/win7_en.iso

--cdrom=/dev/cdrom

--cdrom=[appvm]:[/path/to/iso/within/appvm]
</pre></table></code></div></div><p><img data-src="/assets/yami/start_template1.png" alt="start_template1" class="shadow" data-proofer-ignore></p><p>Una vez instalado Windows, tendremos que instalar las “Tools” de Qubes OS. Viene pre-seleccionada la opción para almacenar el directorio “C:\Users” en el segundo disco, que crea automáticamente Qubes OS (el privado). <strong>Éste segundo disco no se restablece al reiniciar</strong>, así que los directorios y perfiles del usuario sobrevivirían tras cada reinicio, a diferencia del sistema de archivos “raíz”, que se restablece a la imagen del Template automáticamente.</p><p><strong>Si se selecciona esta característica</strong> la instalación requerirá de <strong>dos reinicios:</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>1. Se inicializará y se dará formato al disco privado en el primer reinicio (no se puede hacer durante la instalación, debido a que los controladores de almacenamiento masivo Xen aún no están activos).
2. Los perfiles de usuario se mueven en el disco privado.
</pre></table></code></div></div><p>Ésto se realizará automáticamente con el instalador, por lo que, simplemente deberemos dejar que él solo termine.</p><h3 id="instalación-de-qubes-os-tools">Instalación de QUBES OS Tools<a href="#instalación-de-qubes-os-tools" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Instalar/Actualizar las herramientas para Windows en Qubes OS:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qubes-dom0-update --enablerepo=qubes*testing qubes-windows-tools
</pre></table></code></div></div><p>Para poder ejecutar Qubes Tools, tendremos que deshabilitar el chequeo de drivers firmados, para ello tendremos que ejecutar la terminal como administrador, lanzar el siguiente comando y reiniciar:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>bcdedit /set testsigning on
</pre></table></code></div></div><p>Teniendo la maquina apagada, podremos iniciar la instalación de las Tools mediante el siguiente comando:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-start win7-x64-template --install-windows-tools
</pre></table></code></div></div><h2 id="optimización">Optimización<a href="#optimización" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>En la web oficial de Qubes OS existe documentación para la optimización de Windows <a href="https://www.qubes-os.org/doc/windows-template-customization/">link,</a> que seria interesante realizar.</p><h3 id="aumentar-timeout">Aumentar TimeOut<a href="#aumentar-timeout" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Podemos aumentar el “timeout” por defecto de Qubes OS, ya que esto puede venir bien para Windows, puesto que puede ser mas lento (por defecto 60s):</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-prefs -s &lt;vm-name&gt; qrexec-timeout 300
</pre></table></code></div></div><h2 id="creación-de-dominios">Creación de dominios<a href="#creación-de-dominios" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Una vez que la plantilla se ha creado, es muy fácil crear Dominios basados en ella.</p><p>Ejecutando el siguiente comando:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-create --hvm &lt;new windows appvm name&gt; --template &lt;name of template vm&gt; --label &lt;label color&gt;
</pre></table></code></div></div><p>Hay que tener en cuenta, que la raíz se copiará de la plantilla en cada inicio,(recordar que podemos tener la unidad “D” con la home del usuario). En caso de querer guardar cosas en el disco principal y no perderlos al reiniciar, ya sea porque lo requiera alguna aplicación o cualquier motivo de desarrollo, podemos aprovechar igualmente la plantilla y crear dominios con la opción “Standalone” (no modificará la raíz en cada inicio), solamente tendremos que añadir la opción “–standalone” al comando anterior.</p><h2 id="ejecutar-aplicaciones">Ejecutar aplicaciones<a href="#ejecutar-aplicaciones" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Para lanzar aplicaciones desde dom0:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-run -a MyWIn7 explorer.exe
</pre></table></code></div></div><p>Para lanzarlas desde otro dominio:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>qvm-open-in-vm MyWin7 http://yaminokishi.com
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blog/'>Blog</a>, <a href='/categories/%E3%82%84%E3%81%BF%E3%81%AE%E3%81%8D%E3%81%97/'>やみのきし</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/gu%C3%ADa/" class="post-tag no-text-decoration" >Guía</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/qubes-os/" class="post-tag no-text-decoration" >Qubes OS</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=QUBES OS Primeros pasos - 3d24rd0&url=https://3d24rd0.github.io/posts/qubes_os_primeros_pasos/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=QUBES OS Primeros pasos - 3d24rd0&u=https://3d24rd0.github.io/posts/qubes_os_primeros_pasos/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=QUBES OS Primeros pasos - 3d24rd0&url=https://3d24rd0.github.io/posts/qubes_os_primeros_pasos/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/gu%C3%ADa/">Guía</a> <a class="post-tag" href="/tags/blog/">Blog</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/fedora/">Fedora</a> <a class="post-tag" href="/tags/includeos/">IncludeOS</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/pinned/">pinned</a> <a class="post-tag" href="/tags/programaci%C3%B3n/">Programación</a> <a class="post-tag" href="/tags/qubes-os/">Qubes OS</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/emulationstation-con-dietpi/"><div class="card-body"> <em class="timeago small" date="2015-10-24 21:20:52 +0200" >Oct 24, 2015</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>EmulationStation con DietPi</h3><div class="text-muted small"><p> Selección de distribución Personalmente pienso que Raspbian trae más paquetes pre-instalados de los que necesito, por lo que me decanto más por una distribución más reducida, debido a que el scrip...</p></div></div></a></div><div class="card"> <a href="/posts/post-instalacion-opensuse/"><div class="card-body"> <em class="timeago small" date="2015-11-02 21:27:41 +0100" >Nov 2, 2015</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Post-Instalación openSUSE</h3><div class="text-muted small"><p> En esta guía utilizaré ha menudo “Alt+F2”, con ello me refiero a lanzar el  “ejecutador de órdenes”: También nos servirá cualquier otro buscador/ejecutador que utilizamos como el que incorpora a...</p></div></div></a></div><div class="card"> <a href="/posts/actualizar-a-fedora-23-con-dnf/"><div class="card-body"> <em class="timeago small" date="2015-11-07 01:25:10 +0100" >Nov 7, 2015</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Actualizar a Fedora 23 con DNF</h3><div class="text-muted small"><p> Es posible que estemos acostumbrados a actualizar nuestro Fedora mediante Fedup, pero desde la versión 23, incluye un nuevo método de actualización, utilizando algunas de las ventajas proporcionada...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/my-pinned-site/" class="btn btn-outline-primary" prompt="Older"><p>My Pinned Site</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/3d24rd0">Eduardo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/gu%C3%ADa/">Guía</a> <a class="post-tag" href="/tags/blog/">Blog</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/fedora/">Fedora</a> <a class="post-tag" href="/tags/includeos/">IncludeOS</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/pinned/">pinned</a> <a class="post-tag" href="/tags/programaci%C3%B3n/">Programación</a> <a class="post-tag" href="/tags/qubes-os/">Qubes OS</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-G2P48C6XE8"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-G2P48C6XE8'); }); </script>
